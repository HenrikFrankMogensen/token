(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function le(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function l(){return this instanceof l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var o=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(t,l,o.get?o:{enumerable:!0,get:function(){return i[l]}})}),t}var m={};const fe={},pe=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"})),Q=le(pe);var de=Q;const N=Q,V=3,ve=32,W=()=>"007";class R{constructor(e){this.__type=e,this.__privileges={}}__pack_type(){let e=new T;return e.putUint16(this.__type),e.pack()}__pack_privileges(){let e=new T;return e.putTreeMapUInt32(this.__privileges),e.pack()}service_type(){return this.__type}add_privilege(e,t){this.__privileges[e]=t}pack(){return Buffer.concat([this.__pack_type(),this.__pack_privileges()])}unpack(e){let t=new A(e);return this.__privileges=t.getTreeMapUInt32(),t}}const C=1;let b=class extends R{constructor(e,t){super(C),this.__channel_name=e,this.__uid=t===0?"":`${t}`}pack(){let e=new T;return e.putString(this.__channel_name).putString(this.__uid),Buffer.concat([super.pack(),e.pack()])}unpack(e){let t=super.unpack(e);return this.__channel_name=t.getString(),this.__uid=t.getString(),t}};b.kPrivilegeJoinChannel=1;b.kPrivilegePublishAudioStream=2;b.kPrivilegePublishVideoStream=3;b.kPrivilegePublishDataStream=4;const L=2;let O=class extends R{constructor(e){super(L),this.__user_id=e||""}pack(){let e=new T;return e.putString(this.__user_id),Buffer.concat([super.pack(),e.pack()])}unpack(e){let t=super.unpack(e);return this.__user_id=t.getString(),t}};O.kPrivilegeLogin=1;const x=4;let $=class extends R{constructor(){super(x)}pack(){return super.pack()}unpack(e){return super.unpack(e)}};$.kPrivilegeLogin=1;const M=5;let w=class extends R{constructor(e){super(M),this.__user_id=e||""}pack(){let e=new T;return e.putString(this.__user_id),Buffer.concat([super.pack(),e.pack()])}unpack(e){let t=super.unpack(e);return this.__user_id=t.getString(),t}};w.kPrivilegeUser=1;w.kPrivilegeApp=2;const H=7;let U=class extends R{constructor(e,t,l){super(H),this.__room_uuid=e||"",this.__user_uuid=t||"",this.__role=l||-1}pack(){let e=new T;return e.putString(this.__room_uuid),e.putString(this.__user_uuid),e.putInt16(this.__role),Buffer.concat([super.pack(),e.pack()])}unpack(e){let t=super.unpack(e);return this.__room_uuid=t.getString(),this.__user_uuid=t.getString(),this.__role=t.getInt16(),t}};U.PRIVILEGE_ROOM_USER=1;U.PRIVILEGE_USER=2;U.PRIVILEGE_APP=3;class B{constructor(e,t,l,o){this.appId=e,this.appCertificate=t,this.issueTs=l||new Date().getTime()/1e3,this.expire=o,this.salt=Math.floor(Math.random()*99999999)+1,this.services={}}__signing(){let e=E(new T().putUint32(this.issueTs).pack(),this.appCertificate);return e=E(new T().putUint32(this.salt).pack(),e),e}__build_check(){let e=a=>a.length!==ve?!1:!!Buffer.from(a,"hex");const{appId:t,appCertificate:l,services:o}=this;return!(!e(t)||!e(l)||Object.keys(o).length===0)}add_service(e){this.services[e.service_type()]=e}build(){if(!this.__build_check())return"";let e=this.__signing(),t=new T().putString(this.appId).putUint32(this.issueTs).putUint32(this.expire).putUint32(this.salt).putUint16(Object.keys(this.services).length).pack();Object.values(this.services).forEach(p=>{t=Buffer.concat([t,p.pack()])});let l=E(e,t),o=Buffer.concat([new T().putString(l).pack(),t]),a=N.deflateSync(o);return`${W()}${Buffer.from(a).toString("base64")}`}from_string(e){if(e.substring(0,V)!==W())return!1;let l=e.substring(V,e.length),o=N.inflateSync(new Buffer(l,"base64")),a=new A(o);a.getString(),this.appId=a.getString(),this.issueTs=a.getUint32(),this.expire=a.getUint32(),this.salt=a.getUint32();let p=a.getUint16(),n=a.pack();for(let d=0;d<p;d++){let r=new A(n),u=r.getUint16(),c=new B.kServices[u];n=c.unpack(r.pack()).pack(),this.services[u]=c}}}var E=function(i,e){return de.createHmac("sha256",i).update(e).digest()},T=function(){var i={buffer:Buffer.alloc(1024),position:0};return i.buffer.fill(0),i.pack=function(){var e=Buffer.alloc(i.position);return i.buffer.copy(e,0,0,e.length),e},i.putUint16=function(e){return i.buffer.writeUInt16LE(e,i.position),i.position+=2,i},i.putUint32=function(e){return i.buffer.writeUInt32LE(e,i.position),i.position+=4,i},i.putInt32=function(e){return i.buffer.writeInt32LE(e,i.position),i.position+=4,i},i.putInt16=function(e){return i.buffer.writeInt16LE(e,i.position),i.position+=2,i},i.putBytes=function(e){return i.putUint16(e.length),e.copy(i.buffer,i.position),i.position+=e.length,i},i.putString=function(e){return i.putBytes(Buffer.from(e))},i.putTreeMap=function(e){if(!e)return i.putUint16(0),i;i.putUint16(Object.keys(e).length);for(var t in e)i.putUint16(t),i.putString(e[t]);return i},i.putTreeMapUInt32=function(e){if(!e)return i.putUint16(0),i;i.putUint16(Object.keys(e).length);for(var t in e)i.putUint16(t),i.putUint32(e[t]);return i},i},A=function(i){var e={buffer:i,position:0};return e.getUint16=function(){var t=e.buffer.readUInt16LE(e.position);return e.position+=2,t},e.getUint32=function(){var t=e.buffer.readUInt32LE(e.position);return e.position+=4,t},e.getInt16=function(){var t=e.buffer.readUInt16LE(e.position);return e.position+=2,t},e.getString=function(){var t=e.getUint16(),l=Buffer.alloc(t);return e.buffer.copy(l,0,e.position,e.position+t),e.position+=t,l},e.getTreeMapUInt32=function(){for(var t={},l=e.getUint16(),o=0;o<l;o++){var a=e.getUint16(),p=e.getUint32();t[a]=p}return t},e.pack=function(){let t=e.buffer.length;var l=Buffer.alloc(t);return e.buffer.copy(l,0,e.position,t),l},e};B.kServices={};B.kServices[C]=b;B.kServices[L]=O;B.kServices[x]=$;B.kServices[M]=w;B.kServices[H]=U;var k={AccessToken2:B,ServiceRtc:b,ServiceRtm:O,ServiceFpa:$,ServiceChat:w,ServiceEducation:U,kRtcServiceType:C,kRtmServiceType:L,kFpaServiceType:x,kChatServiceType:M,kEducationServiceType:H};const G=k.AccessToken2,S=k.ServiceRtc,X={PUBLISHER:1,SUBSCRIBER:2};class ge{static buildTokenWithUid(e,t,l,o,a,p,n=0){return this.buildTokenWithUserAccount(e,t,l,o,a,p,n)}static buildTokenWithUserAccount(e,t,l,o,a,p,n=0){let d=new G(e,t,0,p),r=new S(l,o);return r.add_privilege(S.kPrivilegeJoinChannel,n),a==X.PUBLISHER&&(r.add_privilege(S.kPrivilegePublishAudioStream,n),r.add_privilege(S.kPrivilegePublishVideoStream,n),r.add_privilege(S.kPrivilegePublishDataStream,n)),d.add_service(r),d.build()}static buildTokenWithUidAndPrivilege(e,t,l,o,a,p,n,d,r){return this.BuildTokenWithUserAccountAndPrivilege(e,t,l,o,a,p,n,d,r)}static BuildTokenWithUserAccountAndPrivilege(e,t,l,o,a,p,n,d,r){let u=new G(e,t,0,a),c=new S(l,o);return c.add_privilege(S.kPrivilegeJoinChannel,p),c.add_privilege(S.kPrivilegePublishAudioStream,n),c.add_privilege(S.kPrivilegePublishVideoStream,d),c.add_privilege(S.kPrivilegePublishDataStream,r),u.add_service(c),u.build()}}m.RtcTokenBuilder=ge;m.Role=X;var Y={};const he=k.AccessToken2,D=k.ServiceRtm;class _e{static buildToken(e,t,l,o){let a=new he(e,t,null,o),p=new D(l);return p.add_privilege(D.kPrivilegeLogin,o),a.add_service(p),a.build()}}Y.RtmTokenBuilder=_e;var ee={},te={exports:{}},re={exports:{}};(function(){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,l){return t<<l|t>>>32-l},rotr:function(t,l){return t<<32-l|t>>>l},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var l=0;l<t.length;l++)t[l]=e.endian(t[l]);return t},randomBytes:function(t){for(var l=[];t>0;t--)l.push(Math.floor(Math.random()*256));return l},bytesToWords:function(t){for(var l=[],o=0,a=0;o<t.length;o++,a+=8)l[a>>>5]|=t[o]<<24-a%32;return l},wordsToBytes:function(t){for(var l=[],o=0;o<t.length*32;o+=8)l.push(t[o>>>5]>>>24-o%32&255);return l},bytesToHex:function(t){for(var l=[],o=0;o<t.length;o++)l.push((t[o]>>>4).toString(16)),l.push((t[o]&15).toString(16));return l.join("")},hexToBytes:function(t){for(var l=[],o=0;o<t.length;o+=2)l.push(parseInt(t.substr(o,2),16));return l},bytesToBase64:function(t){for(var l=[],o=0;o<t.length;o+=3)for(var a=t[o]<<16|t[o+1]<<8|t[o+2],p=0;p<4;p++)o*8+p*6<=t.length*8?l.push(i.charAt(a>>>6*(3-p)&63)):l.push("=");return l.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var l=[],o=0,a=0;o<t.length;a=++o%4)a!=0&&l.push((i.indexOf(t.charAt(o-1))&Math.pow(2,-2*a+8)-1)<<a*2|i.indexOf(t.charAt(o))>>>6-a*2);return l}};re.exports=e})();var ke=re.exports,F={utf8:{stringToBytes:function(i){return F.bin.stringToBytes(unescape(encodeURIComponent(i)))},bytesToString:function(i){return decodeURIComponent(escape(F.bin.bytesToString(i)))}},bin:{stringToBytes:function(i){for(var e=[],t=0;t<i.length;t++)e.push(i.charCodeAt(t)&255);return e},bytesToString:function(i){for(var e=[],t=0;t<i.length;t++)e.push(String.fromCharCode(i[t]));return e.join("")}}},z=F;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Se=function(i){return i!=null&&(ne(i)||Te(i)||!!i._isBuffer)};function ne(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function Te(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&ne(i.slice(0,0))}(function(){var i=ke,e=z.utf8,t=Se,l=z.bin,o=function(a,p){a.constructor==String?p&&p.encoding==="binary"?a=l.stringToBytes(a):a=e.stringToBytes(a):t(a)?a=Array.prototype.slice.call(a,0):!Array.isArray(a)&&a.constructor!==Uint8Array&&(a=a.toString());for(var n=i.bytesToWords(a),d=a.length*8,r=1732584193,u=-271733879,c=-1732584194,s=271733878,f=0;f<n.length;f++)n[f]=(n[f]<<8|n[f]>>>24)&16711935|(n[f]<<24|n[f]>>>8)&4278255360;n[d>>>5]|=128<<d%32,n[(d+64>>>9<<4)+14]=d;for(var v=o._ff,g=o._gg,h=o._hh,_=o._ii,f=0;f<n.length;f+=16){var ce=r,oe=u,se=c,ae=s;r=v(r,u,c,s,n[f+0],7,-680876936),s=v(s,r,u,c,n[f+1],12,-389564586),c=v(c,s,r,u,n[f+2],17,606105819),u=v(u,c,s,r,n[f+3],22,-1044525330),r=v(r,u,c,s,n[f+4],7,-176418897),s=v(s,r,u,c,n[f+5],12,1200080426),c=v(c,s,r,u,n[f+6],17,-1473231341),u=v(u,c,s,r,n[f+7],22,-45705983),r=v(r,u,c,s,n[f+8],7,1770035416),s=v(s,r,u,c,n[f+9],12,-1958414417),c=v(c,s,r,u,n[f+10],17,-42063),u=v(u,c,s,r,n[f+11],22,-1990404162),r=v(r,u,c,s,n[f+12],7,1804603682),s=v(s,r,u,c,n[f+13],12,-40341101),c=v(c,s,r,u,n[f+14],17,-1502002290),u=v(u,c,s,r,n[f+15],22,1236535329),r=g(r,u,c,s,n[f+1],5,-165796510),s=g(s,r,u,c,n[f+6],9,-1069501632),c=g(c,s,r,u,n[f+11],14,643717713),u=g(u,c,s,r,n[f+0],20,-373897302),r=g(r,u,c,s,n[f+5],5,-701558691),s=g(s,r,u,c,n[f+10],9,38016083),c=g(c,s,r,u,n[f+15],14,-660478335),u=g(u,c,s,r,n[f+4],20,-405537848),r=g(r,u,c,s,n[f+9],5,568446438),s=g(s,r,u,c,n[f+14],9,-1019803690),c=g(c,s,r,u,n[f+3],14,-187363961),u=g(u,c,s,r,n[f+8],20,1163531501),r=g(r,u,c,s,n[f+13],5,-1444681467),s=g(s,r,u,c,n[f+2],9,-51403784),c=g(c,s,r,u,n[f+7],14,1735328473),u=g(u,c,s,r,n[f+12],20,-1926607734),r=h(r,u,c,s,n[f+5],4,-378558),s=h(s,r,u,c,n[f+8],11,-2022574463),c=h(c,s,r,u,n[f+11],16,1839030562),u=h(u,c,s,r,n[f+14],23,-35309556),r=h(r,u,c,s,n[f+1],4,-1530992060),s=h(s,r,u,c,n[f+4],11,1272893353),c=h(c,s,r,u,n[f+7],16,-155497632),u=h(u,c,s,r,n[f+10],23,-1094730640),r=h(r,u,c,s,n[f+13],4,681279174),s=h(s,r,u,c,n[f+0],11,-358537222),c=h(c,s,r,u,n[f+3],16,-722521979),u=h(u,c,s,r,n[f+6],23,76029189),r=h(r,u,c,s,n[f+9],4,-640364487),s=h(s,r,u,c,n[f+12],11,-421815835),c=h(c,s,r,u,n[f+15],16,530742520),u=h(u,c,s,r,n[f+2],23,-995338651),r=_(r,u,c,s,n[f+0],6,-198630844),s=_(s,r,u,c,n[f+7],10,1126891415),c=_(c,s,r,u,n[f+14],15,-1416354905),u=_(u,c,s,r,n[f+5],21,-57434055),r=_(r,u,c,s,n[f+12],6,1700485571),s=_(s,r,u,c,n[f+3],10,-1894986606),c=_(c,s,r,u,n[f+10],15,-1051523),u=_(u,c,s,r,n[f+1],21,-2054922799),r=_(r,u,c,s,n[f+8],6,1873313359),s=_(s,r,u,c,n[f+15],10,-30611744),c=_(c,s,r,u,n[f+6],15,-1560198380),u=_(u,c,s,r,n[f+13],21,1309151649),r=_(r,u,c,s,n[f+4],6,-145523070),s=_(s,r,u,c,n[f+11],10,-1120210379),c=_(c,s,r,u,n[f+2],15,718787259),u=_(u,c,s,r,n[f+9],21,-343485551),r=r+ce>>>0,u=u+oe>>>0,c=c+se>>>0,s=s+ae>>>0}return i.endian([r,u,c,s])};o._ff=function(a,p,n,d,r,u,c){var s=a+(p&n|~p&d)+(r>>>0)+c;return(s<<u|s>>>32-u)+p},o._gg=function(a,p,n,d,r,u,c){var s=a+(p&d|n&~d)+(r>>>0)+c;return(s<<u|s>>>32-u)+p},o._hh=function(a,p,n,d,r,u,c){var s=a+(p^n^d)+(r>>>0)+c;return(s<<u|s>>>32-u)+p},o._ii=function(a,p,n,d,r,u,c){var s=a+(n^(p|~d))+(r>>>0)+c;return(s<<u|s>>>32-u)+p},o._blocksize=16,o._digestsize=16,te.exports=function(a,p){if(a==null)throw new Error("Illegal argument "+a);var n=i.wordsToBytes(o(a,p));return p&&p.asBytes?n:p&&p.asString?l.bytesToString(n):i.bytesToHex(n)}})();var Be=te.exports;const I=k.AccessToken2,y=k.ServiceEducation,j=k.ServiceRtm,J=k.ServiceChat,be=Be;class ye{static buildRoomUserToken(e,t,l,o,a,p){let n=new I(e,t,0,p),d=be(o),r=new y(l,o,a);n.add_service(r);let u=new j(o);u.add_privilege(j.kPrivilegeLogin,p),n.add_service(u);let c=new J(d);return c.add_privilege(J.kPrivilegeUser,p),n.add_service(c),n.build()}static buildUserToken(e,t,l,o){let a=new I(e,t,0,o),p=new y("",l);return p.add_privilege(y.PRIVILEGE_USER,o),a.add_service(p),a.build()}static buildAppToken(e,t,l){let o=new I(e,t,0,l),a=new y;return a.add_privilege(y.PRIVILEGE_APP,l),o.add_service(a),o.build()}}ee.EducationTokenBuilder=ye;var ie={};const Re=k.AccessToken2,q=k.ServiceFpa;class Ue{static buildToken(e,t){let l=new Re(e,t,0,86400),o=new q;return o.add_privilege(q.kPrivilegeLogin,0),l.add_service(o),l.build()}}ie.FpaTokenBuilder=Ue;var ue={};const K=k.AccessToken2,P=k.ServiceChat;class Pe{static buildUserToken(e,t,l,o){const a=new K(e,t,null,o),p=new P(l);return p.add_privilege(P.kPrivilegeUser,o),a.add_service(p),a.build()}static buildAppToken(e,t,l){const o=new K(e,t,null,l),a=new P;return a.add_privilege(P.kPrivilegeApp,l),o.add_service(a),o.build()}}ue.ChatTokenBuilder=Pe;var Z={RtcTokenBuilder:m.RtcTokenBuilder,RtcRole:m.Role,RtmTokenBuilder:Y.RtmTokenBuilder,EducationTokenBuilder:ee.EducationTokenBuilder,FpaTokenBuilder:ie.FpaTokenBuilder,ChatTokenBuilder:ue.ChatTokenBuilder};const me=()=>{const i="d17d1751992d4c3aabba706be6a156c5",e="2ae5f65fef4245f7a45965eb270b1f9f",t="main6",o=Z.RtcRole.PUBLISHER,a=3600,n=Math.floor(Date.now()/1e3)+a,d=Z.RtcTokenBuilder.buildTokenWithUid(i,e,t,0,o,a,n);console.log("Token With Integer Number Uid: "+d)};me();
